<!DOCTYPE html>
<html>
<head>          
	<script src="lib/VSS.SDK.js"></script>
	<script type="text/javascript">
		VSS.init({                        
			explicitNotifyLoaded: true,
			usePlatformStyles: true
		});
		const vssContext = VSS.getWebContext();

		VSS.require("TFS/Dashboards/WidgetHelpers", function (WidgetHelpers) {
			WidgetHelpers.IncludeWidgetStyles();
			
			VSS.register("querytile-extended-widget", function () {
				return {
					load: function (widgetSettings) {
						
						console.log("1. load");
						
						try
						{
							console.log(widgetSettings);
						}
						catch(error)
						{
							console.log("1.1. error");
							console.log(error);
						}
						
						console.log("2. modif text");

						var $title = $('h2.title');
						$title.text("QueryTile Extended");

						console.log("3. return WidgetHelpers");

						return WidgetHelpers.WidgetStatusHelper.Success();
					}
				}
			});

			VSS.notifyLoadSucceeded();
		});
	</script>         
</head>
<body>
	<div class="widget">
		<h2 class="title">Counter widget</h2>
		<div class="big-count">223</div>
		<div>Additional text</div>
	</div>
</body>
</html>